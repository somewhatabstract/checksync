// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Integration Tests (see __examples__ folder) Example checksums_need_updating should report example checksums_need_updating to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/checksums_need_updating/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/checksums_need_updating.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/checksums_need_updating/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/checksums_need_updating.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/checksums_need_updating.json
Verbose  __examples__/checksums_need_updating/unsymlinked/a.js
File has errors; skipping auto-fix
Fix      __examples__/checksums_need_updating/unsymlinked/a.js:4
Updated checksum for sync-tag 'update_me' referencing '__examples__/checksums_need_updating/unsymlinked/b.py:3' from 45678 to 249234014.
Fix      __examples__/checksums_need_updating/unsymlinked/a.js:5
Updated checksum for sync-tag 'update_me' referencing '__examples__/checksums_need_updating/unsymlinked/c.jsx:3' from 1234 to 1992689801.
Verbose  __examples__/checksums_need_updating/unsymlinked/b.py
File has errors; skipping auto-fix
Fix      __examples__/checksums_need_updating/unsymlinked/b.py:3
Updated checksum for sync-tag 'update_me' referencing '__examples__/checksums_need_updating/unsymlinked/a.js:4' from 4567 to 2050223083.
Verbose  __examples__/checksums_need_updating/unsymlinked/c.jsx
File has errors; skipping auto-fix
Fix      __examples__/checksums_need_updating/unsymlinked/c.jsx:3
Updated checksum for sync-tag 'update_me' referencing '__examples__/checksums_need_updating/unsymlinked/a.js:5' from 123 to 2050223083.

<group 3 file(s) would have been fixed.
To fix, run: >
  checksync -u __examples__/checksums_need_updating/unsymlinked/a.js __examples__/checksums_need_updating/unsymlinked/b.py __examples__/checksums_need_updating/unsymlinked/c.jsx
<end_group>
ðŸŽ‰  Everything is in sync!"
`;

exports[`Integration Tests (see __examples__ folder) Example checksums_need_updating should report example checksums_need_updating to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/checksums_need_updating/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/checksums_need_updating.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/checksums_need_updating/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/checksums_need_updating.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/checksums_need_updating.json
Mismatch __examples__/checksums_need_updating/unsymlinked/a.js:4
Looks like you changed the target content for sync-tag 'update_me' in '__examples__/checksums_need_updating/unsymlinked/b.py:3'
Make sure you've made corresponding changes in the source file, if necessary (45678 != 249234014)
Mismatch __examples__/checksums_need_updating/unsymlinked/a.js:5
Looks like you changed the target content for sync-tag 'update_me' in '__examples__/checksums_need_updating/unsymlinked/c.jsx:3'
Make sure you've made corresponding changes in the source file, if necessary (1234 != 1992689801)
Mismatch __examples__/checksums_need_updating/unsymlinked/b.py:3
Looks like you changed the target content for sync-tag 'update_me' in '__examples__/checksums_need_updating/unsymlinked/a.js:4'
Make sure you've made corresponding changes in the source file, if necessary (4567 != 2050223083)
Mismatch __examples__/checksums_need_updating/unsymlinked/c.jsx:3
Looks like you changed the target content for sync-tag 'update_me' in '__examples__/checksums_need_updating/unsymlinked/a.js:5'
Make sure you've made corresponding changes in the source file, if necessary (123 != 2050223083)

<group ðŸ›   Desynchronized blocks detected. Check them and update as required before resynchronizing: >

  checksync -u __examples__/checksums_need_updating/unsymlinked/a.js __examples__/checksums_need_updating/unsymlinked/b.py __examples__/checksums_need_updating/unsymlinked/c.jsx
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example checksums_need_updating should report example checksums_need_updating to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/checksums_need_updating/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/checksums_need_updating.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/checksums_need_updating/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/checksums_need_updating.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/checksums_need_updating.json
{
    "version": "0.0.0",
    "launchString": "checksync -u __examples__/checksums_need_updating/unsymlinked/a.js __examples__/checksums_need_updating/unsymlinked/b.py __examples__/checksums_need_updating/unsymlinked/c.jsx",
    "files": {
        "__examples__/checksums_need_updating/unsymlinked/a.js": [
            {
                "markerID": "update_me",
                "code": "mismatched-checksum",
                "reason": "Looks like you changed the target content for sync-tag 'update_me' in '__examples__/checksums_need_updating/unsymlinked/b.py:3'. Make sure you've made corresponding changes in the source file, if necessary (45678 != 249234014)",
                "location": {
                    "line": 3
                },
                "fix": {
                    "type": "replace",
                    "line": 4,
                    "text": "    // sync-start:update_me 249234014 __examples__/checksums_need_updating/unsymlinked/b.py",
                    "declaration": "    // sync-start:update_me 45678 __examples__/checksums_need_updating/unsymlinked/b.py",
                    "description": "Updated checksum for sync-tag 'update_me' referencing '__examples__/checksums_need_updating/unsymlinked/b.py:3' from 45678 to 249234014."
                }
            },
            {
                "markerID": "update_me",
                "code": "mismatched-checksum",
                "reason": "Looks like you changed the target content for sync-tag 'update_me' in '__examples__/checksums_need_updating/unsymlinked/c.jsx:3'. Make sure you've made corresponding changes in the source file, if necessary (1234 != 1992689801)",
                "location": {
                    "line": 3
                },
                "fix": {
                    "type": "replace",
                    "line": 5,
                    "text": "    // sync-start:update_me 1992689801 __examples__/checksums_need_updating/unsymlinked/c.jsx",
                    "declaration": "    // sync-start:update_me 1234 __examples__/checksums_need_updating/unsymlinked/c.jsx",
                    "description": "Updated checksum for sync-tag 'update_me' referencing '__examples__/checksums_need_updating/unsymlinked/c.jsx:3' from 1234 to 1992689801."
                }
            }
        ],
        "__examples__/checksums_need_updating/unsymlinked/b.py": [
            {
                "markerID": "update_me",
                "code": "mismatched-checksum",
                "reason": "Looks like you changed the target content for sync-tag 'update_me' in '__examples__/checksums_need_updating/unsymlinked/a.js:4'. Make sure you've made corresponding changes in the source file, if necessary (4567 != 2050223083)",
                "location": {
                    "line": 4
                },
                "fix": {
                    "type": "replace",
                    "line": 3,
                    "text": "# sync-start:update_me 2050223083 __examples__/checksums_need_updating/unsymlinked/a.js",
                    "declaration": "# sync-start:update_me 4567 __examples__/checksums_need_updating/unsymlinked/a.js",
                    "description": "Updated checksum for sync-tag 'update_me' referencing '__examples__/checksums_need_updating/unsymlinked/a.js:4' from 4567 to 2050223083."
                }
            }
        ],
        "__examples__/checksums_need_updating/unsymlinked/c.jsx": [
            {
                "markerID": "update_me",
                "code": "mismatched-checksum",
                "reason": "Looks like you changed the target content for sync-tag 'update_me' in '__examples__/checksums_need_updating/unsymlinked/a.js:5'. Make sure you've made corresponding changes in the source file, if necessary (123 != 2050223083)",
                "location": {
                    "line": 5
                },
                "fix": {
                    "type": "replace",
                    "line": 3,
                    "text": "        {/* sync-start:update_me 2050223083 __examples__/checksums_need_updating/unsymlinked/a.js */}",
                    "declaration": "        {/* sync-start:update_me 123 __examples__/checksums_need_updating/unsymlinked/a.js */}",
                    "description": "Updated checksum for sync-tag 'update_me' referencing '__examples__/checksums_need_updating/unsymlinked/a.js:5' from 123 to 2050223083."
                }
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example checksums_need_updating should report example checksums_need_updating to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/checksums_need_updating/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/checksums_need_updating.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/checksums_need_updating/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/checksums_need_updating.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/checksums_need_updating/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/checksums_need_updating/README.md",
    "ROOT_DIR/__examples__/checksums_need_updating/unsymlinked/a.js",
    "ROOT_DIR/__examples__/checksums_need_updating/unsymlinked/b.py",
    "ROOT_DIR/__examples__/checksums_need_updating/unsymlinked/c.jsx"
]
Info     Cache written to ROOT_DIR/.integrationtests/checksums_need_updating.json"
`;

exports[`Integration Tests (see __examples__ folder) Example content_after_start should report example content_after_start to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/content_after_start/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/content_after_start.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/content_after_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/content_after_start.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/content_after_start.json
Verbose  __examples__/content_after_start/a.js
File has errors; skipping auto-fix
Fix      __examples__/content_after_start/a.js:3
Updated checksum for sync-tag 'content_after_start' referencing '__examples__/content_after_start/b.py:3' from no checksum to 249234014.
Verbose  __examples__/content_after_start/b.py
File has errors; skipping auto-fix
Fix      __examples__/content_after_start/b.py:3
Updated checksum for sync-tag 'content_after_start' referencing '__examples__/content_after_start/a.js:3' from no checksum to 770446101.
Fix      __examples__/content_after_start/b.py:4
Updated checksum for sync-tag 'content_after_start' referencing '__examples__/content_after_start/c.js:3' from no checksum to 770446101.
Error    __examples__/content_after_start/c.js:5
Sync-start for 'content_after_start' found after content started
Error    __examples__/content_after_start/c.js:5
No return tag named 'content_after_start' in '__examples__/content_after_start/a.js'

<group 3 file(s) would have been fixed.
To fix, run: >
  checksync -u __examples__/content_after_start/a.js __examples__/content_after_start/b.py __examples__/content_after_start/c.js
<end_group>

<group ðŸ›‘  Could not update all tags due to unfixable errors. Fix the errors in these files and try again. >
  __examples__/content_after_start/c.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example content_after_start should report example content_after_start to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/content_after_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/content_after_start.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/content_after_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/content_after_start.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/content_after_start.json
Mismatch __examples__/content_after_start/a.js:3
Looks like you changed the target content for sync-tag 'content_after_start' in '__examples__/content_after_start/b.py:3'
Make sure you've made corresponding changes in the source file, if necessary (No checksum != 249234014)
Mismatch __examples__/content_after_start/b.py:3
Looks like you changed the target content for sync-tag 'content_after_start' in '__examples__/content_after_start/a.js:3'
Make sure you've made corresponding changes in the source file, if necessary (No checksum != 770446101)
Mismatch __examples__/content_after_start/b.py:4
Looks like you changed the target content for sync-tag 'content_after_start' in '__examples__/content_after_start/c.js:3'
Make sure you've made corresponding changes in the source file, if necessary (No checksum != 770446101)
Error    __examples__/content_after_start/c.js:5
Sync-start for 'content_after_start' found after content started
Mismatch __examples__/content_after_start/c.js:3
Looks like you changed the target content for sync-tag 'content_after_start' in '__examples__/content_after_start/b.py:4'
Make sure you've made corresponding changes in the source file, if necessary (No checksum != 249234014)
Error    __examples__/content_after_start/c.js:5
No return tag named 'content_after_start' in '__examples__/content_after_start/a.js'

<group ðŸ›‘  Desynchronized blocks detected and parsing errors were found. Fix the errors, update the blocks, then update the sync-start tags using: >

  checksync -u __examples__/content_after_start/a.js __examples__/content_after_start/b.py __examples__/content_after_start/c.js
<end_group>

<group ðŸ›‘  Unfixable errors found. Fix the errors in these files and try again. >
  __examples__/content_after_start/c.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example content_after_start should report example content_after_start to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/content_after_start/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/content_after_start.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/content_after_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/content_after_start.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/content_after_start.json
Error    ðŸ›‘  Unfixable errors found. Fix the errors and try again.
{
    "version": "0.0.0",
    "launchString": "checksync -u __examples__/content_after_start/a.js __examples__/content_after_start/b.py __examples__/content_after_start/c.js",
    "files": {
        "__examples__/content_after_start/a.js": [
            {
                "markerID": "content_after_start",
                "code": "mismatched-checksum",
                "reason": "Looks like you changed the target content for sync-tag 'content_after_start' in '__examples__/content_after_start/b.py:3'. Make sure you've made corresponding changes in the source file, if necessary (No checksum != 249234014)",
                "location": {
                    "line": 3
                },
                "fix": {
                    "type": "replace",
                    "line": 3,
                    "text": "// sync-start:content_after_start 249234014 __examples__/content_after_start/b.py",
                    "declaration": "// sync-start:content_after_start __examples__/content_after_start/b.py",
                    "description": "Updated checksum for sync-tag 'content_after_start' referencing '__examples__/content_after_start/b.py:3' from no checksum to 249234014."
                }
            }
        ],
        "__examples__/content_after_start/b.py": [
            {
                "markerID": "content_after_start",
                "code": "mismatched-checksum",
                "reason": "Looks like you changed the target content for sync-tag 'content_after_start' in '__examples__/content_after_start/a.js:3'. Make sure you've made corresponding changes in the source file, if necessary (No checksum != 770446101)",
                "location": {
                    "line": 3
                },
                "fix": {
                    "type": "replace",
                    "line": 3,
                    "text": "# sync-start:content_after_start 770446101 __examples__/content_after_start/a.js",
                    "declaration": "# sync-start:content_after_start __examples__/content_after_start/a.js",
                    "description": "Updated checksum for sync-tag 'content_after_start' referencing '__examples__/content_after_start/a.js:3' from no checksum to 770446101."
                }
            },
            {
                "markerID": "content_after_start",
                "code": "mismatched-checksum",
                "reason": "Looks like you changed the target content for sync-tag 'content_after_start' in '__examples__/content_after_start/c.js:3'. Make sure you've made corresponding changes in the source file, if necessary (No checksum != 770446101)",
                "location": {
                    "line": 3
                },
                "fix": {
                    "type": "replace",
                    "line": 4,
                    "text": "# sync-start:content_after_start 770446101 __examples__/content_after_start/c.js",
                    "declaration": "# sync-start:content_after_start __examples__/content_after_start/c.js",
                    "description": "Updated checksum for sync-tag 'content_after_start' referencing '__examples__/content_after_start/c.js:3' from no checksum to 770446101."
                }
            }
        ],
        "__examples__/content_after_start/c.js": [
            {
                "markerID": "content_after_start",
                "reason": "Sync-start for 'content_after_start' found after content started",
                "location": {
                    "line": 5
                },
                "code": "start-tag-after-content"
            },
            {
                "markerID": "content_after_start",
                "code": "mismatched-checksum",
                "reason": "Looks like you changed the target content for sync-tag 'content_after_start' in '__examples__/content_after_start/b.py:4'. Make sure you've made corresponding changes in the source file, if necessary (No checksum != 249234014)",
                "location": {
                    "line": 4
                },
                "fix": {
                    "type": "replace",
                    "line": 3,
                    "text": "// sync-start:content_after_start 249234014 __examples__/content_after_start/b.py",
                    "declaration": "// sync-start:content_after_start __examples__/content_after_start/b.py",
                    "description": "Updated checksum for sync-tag 'content_after_start' referencing '__examples__/content_after_start/b.py:4' from no checksum to 249234014."
                }
            },
            {
                "markerID": "content_after_start",
                "reason": "No return tag named 'content_after_start' in '__examples__/content_after_start/a.js'",
                "code": "no-return-tag",
                "location": {
                    "line": 5
                }
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example content_after_start should report example content_after_start to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/content_after_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/content_after_start.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/content_after_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/content_after_start.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/content_after_start/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/content_after_start/a.js",
    "ROOT_DIR/__examples__/content_after_start/b.py",
    "ROOT_DIR/__examples__/content_after_start/c.js"
]
Info     Cache written to ROOT_DIR/.integrationtests/content_after_start.json"
`;

exports[`Integration Tests (see __examples__ folder) Example correct_checksums should report example correct_checksums to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/correct_checksums/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/correct_checksums.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/correct_checksums/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/correct_checksums.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/correct_checksums.json
ðŸŽ‰  Everything is in sync!"
`;

exports[`Integration Tests (see __examples__ folder) Example correct_checksums should report example correct_checksums to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/correct_checksums/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/correct_checksums.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/correct_checksums/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/correct_checksums.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/correct_checksums.json
ðŸŽ‰  Everything is in sync!"
`;

exports[`Integration Tests (see __examples__ folder) Example correct_checksums should report example correct_checksums to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/correct_checksums/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/correct_checksums.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/correct_checksums/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/correct_checksums.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/correct_checksums.json
{
    "version": "0.0.0",
    "launchString": "checksync -u ",
    "files": {}
}"
`;

exports[`Integration Tests (see __examples__ folder) Example correct_checksums should report example correct_checksums to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/correct_checksums/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/correct_checksums.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/correct_checksums/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/correct_checksums.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/correct_checksums/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/correct_checksums/a.js",
    "ROOT_DIR/__examples__/correct_checksums/b.py",
    "ROOT_DIR/__examples__/correct_checksums/c.jsx"
]
Info     Cache written to ROOT_DIR/.integrationtests/correct_checksums.json"
`;

exports[`Integration Tests (see __examples__ folder) Example directory_target should report example directory_target to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/directory_target/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/directory_target.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/directory_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/directory_target.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/directory_target.json
Error    __examples__/directory_target/example.js:3
Sync-start for 'directory_target' points to '__examples__/directory_target/a_directory', which does not exist or is a directory
Error    __examples__/directory_target/example.js:3
No return tag named 'directory_target' in '__examples__/directory_target/a_directory'

<group ðŸ›‘  Could not update all tags due to unfixable errors. Fix the errors in these files and try again. >
  __examples__/directory_target/example.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example directory_target should report example directory_target to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/directory_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/directory_target.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/directory_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/directory_target.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/directory_target.json
Error    __examples__/directory_target/example.js:3
Sync-start for 'directory_target' points to '__examples__/directory_target/a_directory', which does not exist or is a directory
Error    __examples__/directory_target/example.js:3
No return tag named 'directory_target' in '__examples__/directory_target/a_directory'

<group ðŸ›‘  Unfixable errors found. Fix the errors in these files and try again. >
  __examples__/directory_target/example.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example directory_target should report example directory_target to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/directory_target/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/directory_target.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/directory_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/directory_target.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/directory_target.json
Error    ðŸ›‘  Unfixable errors found. Fix the errors and try again.
{
    "version": "0.0.0",
    "launchString": "checksync -u ",
    "files": {
        "__examples__/directory_target/example.js": [
            {
                "markerID": "directory_target",
                "reason": "Sync-start for 'directory_target' points to '__examples__/directory_target/a_directory', which does not exist or is a directory",
                "location": {
                    "line": 3
                },
                "code": "file-does-not-exist"
            },
            {
                "markerID": "directory_target",
                "reason": "No return tag named 'directory_target' in '__examples__/directory_target/a_directory'",
                "code": "no-return-tag",
                "location": {
                    "line": 3
                }
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example directory_target should report example directory_target to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/directory_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/directory_target.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/directory_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/directory_target.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/directory_target/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/directory_target/a_directory/somefile.js",
    "ROOT_DIR/__examples__/directory_target/example.js"
]
Info     Cache written to ROOT_DIR/.integrationtests/directory_target.json"
`;

exports[`Integration Tests (see __examples__ folder) Example duplicate-target should report example duplicate-target to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/duplicate-target/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/duplicate_target.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/duplicate-target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/duplicate_target.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/duplicate_target.json
Verbose  __examples__/duplicate-target/a.js
File has errors; skipping auto-fix
Fix      __examples__/duplicate-target/a.js:4
Updated checksum for sync-tag 'update_me' referencing '__examples__/duplicate-target/b.py:3' from 12352 to 249234014.
Fix      __examples__/duplicate-target/a.js:5
Removed duplicate target for sync-tag 'update_me'
Verbose  __examples__/duplicate-target/b.py
File has errors; skipping auto-fix
Fix      __examples__/duplicate-target/b.py:3
Updated checksum for sync-tag 'update_me' referencing '__examples__/duplicate-target/a.js:4' from 4567 to 2050223083.

<group 2 file(s) would have been fixed.
To fix, run: >
  checksync -u __examples__/duplicate-target/a.js __examples__/duplicate-target/b.py
<end_group>
ðŸŽ‰  Everything is in sync!"
`;

exports[`Integration Tests (see __examples__ folder) Example duplicate-target should report example duplicate-target to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/duplicate-target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/duplicate_target.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/duplicate-target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/duplicate_target.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/duplicate_target.json
Warning  __examples__/duplicate-target/a.js:5
Duplicate target for sync-tag 'update_me'
Mismatch __examples__/duplicate-target/a.js:4
Looks like you changed the target content for sync-tag 'update_me' in '__examples__/duplicate-target/b.py:3'
Make sure you've made corresponding changes in the source file, if necessary (12352 != 249234014)
Mismatch __examples__/duplicate-target/a.js:5
Looks like you changed the target content for sync-tag 'update_me' in '__examples__/duplicate-target/b.py:3'
Make sure you've made corresponding changes in the source file, if necessary (12345 != 249234014)
Mismatch __examples__/duplicate-target/b.py:3
Looks like you changed the target content for sync-tag 'update_me' in '__examples__/duplicate-target/a.js:4'
Make sure you've made corresponding changes in the source file, if necessary (4567 != 2050223083)

<group ðŸ›   Desynchronized blocks detected. Check them and update as required before resynchronizing: >

  checksync -u __examples__/duplicate-target/a.js __examples__/duplicate-target/b.py
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example duplicate-target should report example duplicate-target to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/duplicate-target/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/duplicate_target.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/duplicate-target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/duplicate_target.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/duplicate_target.json
{
    "version": "0.0.0",
    "launchString": "checksync -u __examples__/duplicate-target/a.js __examples__/duplicate-target/b.py",
    "files": {
        "__examples__/duplicate-target/a.js": [
            {
                "markerID": "update_me",
                "reason": "Duplicate target for sync-tag 'update_me'",
                "location": {
                    "line": 5
                },
                "code": "duplicate-target",
                "fix": {
                    "type": "delete",
                    "description": "Removed duplicate target for sync-tag 'update_me'",
                    "declaration": "    // sync-start:update_me 12345 __examples__/duplicate-target/b.py",
                    "line": 5
                }
            },
            {
                "markerID": "update_me",
                "code": "mismatched-checksum",
                "reason": "Looks like you changed the target content for sync-tag 'update_me' in '__examples__/duplicate-target/b.py:3'. Make sure you've made corresponding changes in the source file, if necessary (12352 != 249234014)",
                "location": {
                    "line": 3
                },
                "fix": {
                    "type": "replace",
                    "line": 4,
                    "text": "    // sync-start:update_me 249234014 __examples__/duplicate-target/b.py",
                    "declaration": "    // sync-start:update_me 12352 __examples__/duplicate-target/b.py",
                    "description": "Updated checksum for sync-tag 'update_me' referencing '__examples__/duplicate-target/b.py:3' from 12352 to 249234014."
                }
            },
            {
                "markerID": "update_me",
                "code": "mismatched-checksum",
                "reason": "Looks like you changed the target content for sync-tag 'update_me' in '__examples__/duplicate-target/b.py:3'. Make sure you've made corresponding changes in the source file, if necessary (12345 != 249234014)",
                "location": {
                    "line": 3
                },
                "fix": {
                    "type": "replace",
                    "line": 5,
                    "text": "    // sync-start:update_me 249234014 __examples__/duplicate-target/b.py",
                    "declaration": "    // sync-start:update_me 12345 __examples__/duplicate-target/b.py",
                    "description": "Updated checksum for sync-tag 'update_me' referencing '__examples__/duplicate-target/b.py:3' from 12345 to 249234014."
                }
            }
        ],
        "__examples__/duplicate-target/b.py": [
            {
                "markerID": "update_me",
                "code": "mismatched-checksum",
                "reason": "Looks like you changed the target content for sync-tag 'update_me' in '__examples__/duplicate-target/a.js:4'. Make sure you've made corresponding changes in the source file, if necessary (4567 != 2050223083)",
                "location": {
                    "line": 4
                },
                "fix": {
                    "type": "replace",
                    "line": 3,
                    "text": "# sync-start:update_me 2050223083 __examples__/duplicate-target/a.js",
                    "declaration": "# sync-start:update_me 4567 __examples__/duplicate-target/a.js",
                    "description": "Updated checksum for sync-tag 'update_me' referencing '__examples__/duplicate-target/a.js:4' from 4567 to 2050223083."
                }
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example duplicate-target should report example duplicate-target to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/duplicate-target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/duplicate_target.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/duplicate-target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/duplicate_target.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/duplicate-target/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/duplicate-target/a.js",
    "ROOT_DIR/__examples__/duplicate-target/b.py"
]
Info     Cache written to ROOT_DIR/.integrationtests/duplicate_target.json"
`;

exports[`Integration Tests (see __examples__ folder) Example empty_tag should report example empty_tag to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/empty_tag/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/empty_tag.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/empty_tag/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/empty_tag.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/empty_tag.json
Error    __examples__/empty_tag/a.js:2
Sync-tag 'no_content' has no content

<group ðŸ›‘  Could not update all tags due to unfixable errors. Fix the errors in these files and try again. >
  __examples__/empty_tag/a.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example empty_tag should report example empty_tag to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/empty_tag/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/empty_tag.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/empty_tag/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/empty_tag.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/empty_tag.json
Error    __examples__/empty_tag/a.js:2
Sync-tag 'no_content' has no content

<group ðŸ›‘  Unfixable errors found. Fix the errors in these files and try again. >
  __examples__/empty_tag/a.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example empty_tag should report example empty_tag to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/empty_tag/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/empty_tag.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/empty_tag/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/empty_tag.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/empty_tag.json
Error    ðŸ›‘  Unfixable errors found. Fix the errors and try again.
{
    "version": "0.0.0",
    "launchString": "checksync -u ",
    "files": {
        "__examples__/empty_tag/a.js": [
            {
                "markerID": "no_content",
                "reason": "Sync-tag 'no_content' has no content",
                "location": {
                    "line": 2
                },
                "code": "empty-marker"
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example empty_tag should report example empty_tag to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/empty_tag/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/empty_tag.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/empty_tag/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/empty_tag.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/empty_tag/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/empty_tag/a.js",
    "ROOT_DIR/__examples__/empty_tag/b.js"
]
Info     Cache written to ROOT_DIR/.integrationtests/empty_tag.json"
`;

exports[`Integration Tests (see __examples__ folder) Example end_with_no_start should report example end_with_no_start to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/end_with_no_start/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/end_with_no_start.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/end_with_no_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/end_with_no_start.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/end_with_no_start.json
Error    __examples__/end_with_no_start/example.js:5
Sync-end for 'end_with_no_start' found, but there was no corresponding sync-start

<group ðŸ›‘  Could not update all tags due to unfixable errors. Fix the errors in these files and try again. >
  __examples__/end_with_no_start/example.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example end_with_no_start should report example end_with_no_start to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/end_with_no_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/end_with_no_start.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/end_with_no_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/end_with_no_start.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/end_with_no_start.json
Error    __examples__/end_with_no_start/example.js:5
Sync-end for 'end_with_no_start' found, but there was no corresponding sync-start

<group ðŸ›‘  Unfixable errors found. Fix the errors in these files and try again. >
  __examples__/end_with_no_start/example.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example end_with_no_start should report example end_with_no_start to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/end_with_no_start/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/end_with_no_start.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/end_with_no_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/end_with_no_start.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/end_with_no_start.json
Error    ðŸ›‘  Unfixable errors found. Fix the errors and try again.
{
    "version": "0.0.0",
    "launchString": "checksync -u ",
    "files": {
        "__examples__/end_with_no_start/example.js": [
            {
                "markerID": "end_with_no_start",
                "reason": "Sync-end for 'end_with_no_start' found, but there was no corresponding sync-start",
                "location": {
                    "line": 5
                },
                "code": "end-tag-without-start-tag"
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example end_with_no_start should report example end_with_no_start to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/end_with_no_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/end_with_no_start.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/end_with_no_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/end_with_no_start.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/end_with_no_start/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/end_with_no_start/example.js"
]
Info     Cache written to ROOT_DIR/.integrationtests/end_with_no_start.json"
`;

exports[`Integration Tests (see __examples__ folder) Example excluded should report example excluded to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/excluded/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/excluded.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/excluded/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/excluded.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/excluded.json
Error    Unable to load cache"
`;

exports[`Integration Tests (see __examples__ folder) Example excluded should report example excluded to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/excluded/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/excluded.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/excluded/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/excluded.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/excluded.json
Error    Unable to load cache"
`;

exports[`Integration Tests (see __examples__ folder) Example excluded should report example excluded to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/excluded/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/excluded.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/excluded/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/excluded.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/excluded.json
Error    Unable to load cache"
`;

exports[`Integration Tests (see __examples__ folder) Example excluded should report example excluded to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/excluded/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/excluded.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/excluded/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/excluded.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/excluded/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: []
Error    No matching files"
`;

exports[`Integration Tests (see __examples__ folder) Example ignore_files_at_different_depths should report example ignore_files_at_different_depths to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/ignore_files_at_different_depths/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/ignore_files_at_different_depths.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/ignore_files_at_different_depths/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/ignore_files_at_different_depths.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/ignore_files_at_different_depths.json
Error    __examples__/ignore_files_at_different_depths/some/ignorethesewhennotinsome/bad-sync-tags-that-get-parsed.js:5
Sync-end for 'end_with_no_start' found, but there was no corresponding sync-start

<group ðŸ›‘  Could not update all tags due to unfixable errors. Fix the errors in these files and try again. >
  __examples__/ignore_files_at_different_depths/some/ignorethesewhennotinsome/bad-sync-tags-that-get-parsed.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example ignore_files_at_different_depths should report example ignore_files_at_different_depths to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/ignore_files_at_different_depths/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/ignore_files_at_different_depths.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/ignore_files_at_different_depths/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/ignore_files_at_different_depths.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/ignore_files_at_different_depths.json
Error    __examples__/ignore_files_at_different_depths/some/ignorethesewhennotinsome/bad-sync-tags-that-get-parsed.js:5
Sync-end for 'end_with_no_start' found, but there was no corresponding sync-start

<group ðŸ›‘  Unfixable errors found. Fix the errors in these files and try again. >
  __examples__/ignore_files_at_different_depths/some/ignorethesewhennotinsome/bad-sync-tags-that-get-parsed.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example ignore_files_at_different_depths should report example ignore_files_at_different_depths to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/ignore_files_at_different_depths/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/ignore_files_at_different_depths.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/ignore_files_at_different_depths/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/ignore_files_at_different_depths.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/ignore_files_at_different_depths.json
Error    ðŸ›‘  Unfixable errors found. Fix the errors and try again.
{
    "version": "0.0.0",
    "launchString": "checksync -u ",
    "files": {
        "__examples__/ignore_files_at_different_depths/some/ignorethesewhennotinsome/bad-sync-tags-that-get-parsed.js": [
            {
                "markerID": "end_with_no_start",
                "reason": "Sync-end for 'end_with_no_start' found, but there was no corresponding sync-start",
                "location": {
                    "line": 5
                },
                "code": "end-tag-without-start-tag"
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example ignore_files_at_different_depths should report example ignore_files_at_different_depths to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/ignore_files_at_different_depths/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/ignore_files_at_different_depths.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/ignore_files_at_different_depths/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/ignore_files_at_different_depths.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/ignore_files_at_different_depths/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  IGNORED  : __examples__/ignore_files_at_different_depths/ignore-file.txt by __examples__/ignore_files_at_different_depths/ignore-file.txt
Verbose  IGNORED  : __examples__/ignore_files_at_different_depths/ignorethesewhennotinsome/bad-sync-tags-never-parsed.js by __examples__/ignore_files_at_different_depths/ignore-file.txt
Verbose  IGNORED  : __examples__/ignore_files_at_different_depths/some/alsoignorethis.txt by __examples__/ignore_files_at_different_depths/some/ignore-file.txt
Verbose  IGNORED  : __examples__/ignore_files_at_different_depths/some/ignore-file.txt by __examples__/ignore_files_at_different_depths/ignore-file.txt
Verbose  IGNORED  : __examples__/ignore_files_at_different_depths/some/ignore-file.txt by __examples__/ignore_files_at_different_depths/some/ignore-file.txt
Verbose  IGNORED  : __examples__/ignore_files_at_different_depths/some/ignorethesewhennotinsome/bad-sync-tags-that-get-parsed.js by __examples__/ignore_files_at_different_depths/ignore-file.txt
Verbose  UNIGNORED: __examples__/ignore_files_at_different_depths/some/ignorethesewhennotinsome/bad-sync-tags-that-get-parsed.js by __examples__/ignore_files_at_different_depths/some/ignore-file.txt
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignorethesewhennotinsome/bad-sync-tags-that-get-parsed.js"
]
Info     Cache written to ROOT_DIR/.integrationtests/ignore_files_at_different_depths.json"
`;

exports[`Integration Tests (see __examples__ folder) Example malformed_end should report example malformed_end to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/malformed_end/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/malformed_end.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/malformed_end/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/malformed_end.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/malformed_end.json
Error    __examples__/malformed_end/malformed_badid.js:7
Malformed sync-end: format should be 'sync-end:<label>'
Error    __examples__/malformed_end/malformed_badid.js:4
Sync-start 'tagid' has no corresponding sync-end
Error    __examples__/malformed_end/malformed_noid.js:7
Malformed sync-end: format should be 'sync-end:<label>'
Error    __examples__/malformed_end/malformed_noid.js:4
Sync-start 'tagid' has no corresponding sync-end

<group ðŸ›‘  Could not update all tags due to unfixable errors. Fix the errors in these files and try again. >
  __examples__/malformed_end/malformed_badid.js
__examples__/malformed_end/malformed_noid.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example malformed_end should report example malformed_end to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/malformed_end/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/malformed_end.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/malformed_end/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/malformed_end.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/malformed_end.json
Error    __examples__/malformed_end/malformed_badid.js:7
Malformed sync-end: format should be 'sync-end:<label>'
Error    __examples__/malformed_end/malformed_badid.js:4
Sync-start 'tagid' has no corresponding sync-end
Error    __examples__/malformed_end/malformed_noid.js:7
Malformed sync-end: format should be 'sync-end:<label>'
Error    __examples__/malformed_end/malformed_noid.js:4
Sync-start 'tagid' has no corresponding sync-end

<group ðŸ›‘  Unfixable errors found. Fix the errors in these files and try again. >
  __examples__/malformed_end/malformed_badid.js
__examples__/malformed_end/malformed_noid.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example malformed_end should report example malformed_end to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/malformed_end/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/malformed_end.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/malformed_end/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/malformed_end.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/malformed_end.json
Error    ðŸ›‘  Unfixable errors found. Fix the errors and try again.
{
    "version": "0.0.0",
    "launchString": "checksync -u ",
    "files": {
        "__examples__/malformed_end/malformed_badid.js": [
            {
                "markerID": null,
                "reason": "Malformed sync-end: format should be 'sync-end:<label>'",
                "location": {
                    "line": 7
                },
                "code": "malformed-end-tag"
            },
            {
                "markerID": "tagid",
                "reason": "Sync-start 'tagid' has no corresponding sync-end",
                "location": {
                    "line": 4
                },
                "code": "start-tag-witout-end-tag"
            }
        ],
        "__examples__/malformed_end/malformed_noid.js": [
            {
                "markerID": null,
                "reason": "Malformed sync-end: format should be 'sync-end:<label>'",
                "location": {
                    "line": 7
                },
                "code": "malformed-end-tag"
            },
            {
                "markerID": "tagid",
                "reason": "Sync-start 'tagid' has no corresponding sync-end",
                "location": {
                    "line": 4
                },
                "code": "start-tag-witout-end-tag"
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example malformed_end should report example malformed_end to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/malformed_end/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/malformed_end.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/malformed_end/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/malformed_end.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/malformed_end/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/malformed_end/malformed_badid.js",
    "ROOT_DIR/__examples__/malformed_end/malformed_noid.js"
]
Info     Cache written to ROOT_DIR/.integrationtests/malformed_end.json"
`;

exports[`Integration Tests (see __examples__ folder) Example malformed_start should report example malformed_start to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/malformed_start/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/malformed_start.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/malformed_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/malformed_start.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/malformed_start.json
Error    __examples__/malformed_start/malformed_badchecksum.js:4
Malformed sync-start: format should be 'sync-start:<label> [checksum] <filename> <optional_comment_end>'
Error    __examples__/malformed_start/malformed_badchecksum.js:7
Sync-end for 'tagid' found, but there was no corresponding sync-start
Error    __examples__/malformed_start/malformed_badid.js:4
Malformed sync-start: format should be 'sync-start:<label> [checksum] <filename> <optional_comment_end>'
Error    __examples__/malformed_start/malformed_badid.js:7
Sync-end for 'tagid' found, but there was no corresponding sync-start
Error    __examples__/malformed_start/malformed_onlytagid.js:4
Malformed sync-start: format should be 'sync-start:<label> [checksum] <filename> <optional_comment_end>'
Error    __examples__/malformed_start/malformed_onlytagid.js:7
Sync-end for 'tagid' found, but there was no corresponding sync-start

<group ðŸ›‘  Could not update all tags due to unfixable errors. Fix the errors in these files and try again. >
  __examples__/malformed_start/malformed_badchecksum.js
__examples__/malformed_start/malformed_badid.js
__examples__/malformed_start/malformed_onlytagid.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example malformed_start should report example malformed_start to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/malformed_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/malformed_start.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/malformed_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/malformed_start.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/malformed_start.json
Error    __examples__/malformed_start/malformed_badchecksum.js:4
Malformed sync-start: format should be 'sync-start:<label> [checksum] <filename> <optional_comment_end>'
Error    __examples__/malformed_start/malformed_badchecksum.js:7
Sync-end for 'tagid' found, but there was no corresponding sync-start
Error    __examples__/malformed_start/malformed_badid.js:4
Malformed sync-start: format should be 'sync-start:<label> [checksum] <filename> <optional_comment_end>'
Error    __examples__/malformed_start/malformed_badid.js:7
Sync-end for 'tagid' found, but there was no corresponding sync-start
Error    __examples__/malformed_start/malformed_onlytagid.js:4
Malformed sync-start: format should be 'sync-start:<label> [checksum] <filename> <optional_comment_end>'
Error    __examples__/malformed_start/malformed_onlytagid.js:7
Sync-end for 'tagid' found, but there was no corresponding sync-start

<group ðŸ›‘  Unfixable errors found. Fix the errors in these files and try again. >
  __examples__/malformed_start/malformed_badchecksum.js
__examples__/malformed_start/malformed_badid.js
__examples__/malformed_start/malformed_onlytagid.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example malformed_start should report example malformed_start to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/malformed_start/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/malformed_start.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/malformed_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/malformed_start.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/malformed_start.json
Error    ðŸ›‘  Unfixable errors found. Fix the errors and try again.
{
    "version": "0.0.0",
    "launchString": "checksync -u ",
    "files": {
        "__examples__/malformed_start/malformed_badchecksum.js": [
            {
                "markerID": null,
                "reason": "Malformed sync-start: format should be 'sync-start:<label> [checksum] <filename> <optional_comment_end>'",
                "location": {
                    "line": 4
                },
                "code": "malformed-start-tag"
            },
            {
                "markerID": "tagid",
                "reason": "Sync-end for 'tagid' found, but there was no corresponding sync-start",
                "location": {
                    "line": 7
                },
                "code": "end-tag-without-start-tag"
            }
        ],
        "__examples__/malformed_start/malformed_badid.js": [
            {
                "markerID": null,
                "reason": "Malformed sync-start: format should be 'sync-start:<label> [checksum] <filename> <optional_comment_end>'",
                "location": {
                    "line": 4
                },
                "code": "malformed-start-tag"
            },
            {
                "markerID": "tagid",
                "reason": "Sync-end for 'tagid' found, but there was no corresponding sync-start",
                "location": {
                    "line": 7
                },
                "code": "end-tag-without-start-tag"
            }
        ],
        "__examples__/malformed_start/malformed_onlytagid.js": [
            {
                "markerID": null,
                "reason": "Malformed sync-start: format should be 'sync-start:<label> [checksum] <filename> <optional_comment_end>'",
                "location": {
                    "line": 4
                },
                "code": "malformed-start-tag"
            },
            {
                "markerID": "tagid",
                "reason": "Sync-end for 'tagid' found, but there was no corresponding sync-start",
                "location": {
                    "line": 7
                },
                "code": "end-tag-without-start-tag"
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example malformed_start should report example malformed_start to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/malformed_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/malformed_start.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/malformed_start/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/malformed_start.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/malformed_start/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/malformed_start/malformed_badchecksum.js",
    "ROOT_DIR/__examples__/malformed_start/malformed_badid.js",
    "ROOT_DIR/__examples__/malformed_start/malformed_onlytagid.js"
]
Info     Cache written to ROOT_DIR/.integrationtests/malformed_start.json"
`;

exports[`Integration Tests (see __examples__ folder) Example migrate_all should report example migrate_all to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/migrate_all/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/migrate_all.json",
  "cacheMode": "read",
  "migration": {
    "mode": "all",
    "mappings": {}
  }
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/migrate_all/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/migrate_all.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "all",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/migrate_all.json
Verbose  __examples__/migrate_all/example-1.js
File has errors; skipping auto-fix
Fix      __examples__/migrate_all/example-1.js:3
Migrated sync-tag 'migrate_all'
Target changed from '__examples__/migrate_all/example-2.js' to 'https://example.com/2/example-2.js'
Checksum updated from 12345 to 60104996
Verbose  __examples__/migrate_all/example-2.js
File has errors; skipping auto-fix
Fix      __examples__/migrate_all/example-2.js:3
Migrated sync-tag 'migrate_all'
Target changed from '__examples__/migrate_all/example-1.js' to 'https://example.com/2/example-1.js'
Checksum updated from 12345 to 60367141

<group 2 file(s) would have been fixed.
To fix, run: >
  checksync -u __examples__/migrate_all/example-1.js __examples__/migrate_all/example-2.js
<end_group>
ðŸŽ‰  Everything is in sync!"
`;

exports[`Integration Tests (see __examples__ folder) Example migrate_all should report example migrate_all to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/migrate_all/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/migrate_all.json",
  "cacheMode": "read",
  "migration": {
    "mode": "all",
    "mappings": {}
  }
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/migrate_all/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/migrate_all.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "all",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/migrate_all.json
Migrate  __examples__/migrate_all/example-1.js:3
Recommended migration to remote target 'https://example.com/2/example-2.js' and update checksum to 60104996.
Migrate  __examples__/migrate_all/example-2.js:3
Recommended migration to remote target 'https://example.com/2/example-1.js' and update checksum to 60367141.

<group ðŸ›   Desynchronized blocks detected. Check them and update as required before resynchronizing: >

  checksync -u __examples__/migrate_all/example-1.js __examples__/migrate_all/example-2.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example migrate_all should report example migrate_all to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/migrate_all/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/migrate_all.json",
  "cacheMode": "read",
  "migration": {
    "mode": "all",
    "mappings": {}
  }
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/migrate_all/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/migrate_all.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "all",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/migrate_all.json
{
    "version": "0.0.0",
    "launchString": "checksync -u __examples__/migrate_all/example-1.js __examples__/migrate_all/example-2.js",
    "files": {
        "__examples__/migrate_all/example-1.js": [
            {
                "markerID": "migrate_all",
                "reason": "Recommended migration to remote target 'https://example.com/2/example-2.js' and update checksum to 60104996.",
                "code": "pending-migration",
                "location": {
                    "line": 3
                },
                "fix": {
                    "type": "replace",
                    "line": 3,
                    "text": "// sync-start:migrate_all 60104996 https://example.com/2/example-2.js",
                    "declaration": "// sync-start:migrate_all 12345 __examples__/migrate_all/example-2.js",
                    "description": "Migrated sync-tag 'migrate_all'. Target changed from '__examples__/migrate_all/example-2.js' to 'https://example.com/2/example-2.js'. Checksum updated from 12345 to 60104996"
                }
            }
        ],
        "__examples__/migrate_all/example-2.js": [
            {
                "markerID": "migrate_all",
                "reason": "Recommended migration to remote target 'https://example.com/2/example-1.js' and update checksum to 60367141.",
                "code": "pending-migration",
                "location": {
                    "line": 3
                },
                "fix": {
                    "type": "replace",
                    "line": 3,
                    "text": "// sync-start:migrate_all 60367141 https://example.com/2/example-1.js",
                    "declaration": "// sync-start:migrate_all 12345 __examples__/migrate_all/example-1.js",
                    "description": "Migrated sync-tag 'migrate_all'. Target changed from '__examples__/migrate_all/example-1.js' to 'https://example.com/2/example-1.js'. Checksum updated from 12345 to 60367141"
                }
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example migrate_all should report example migrate_all to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/migrate_all/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/migrate_all.json",
  "cacheMode": "write",
  "migration": {
    "mode": "all",
    "mappings": {}
  }
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/migrate_all/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/migrate_all.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "all",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/migrate_all/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/migrate_all/example-1.js",
    "ROOT_DIR/__examples__/migrate_all/example-2.js"
]
Info     Cache written to ROOT_DIR/.integrationtests/migrate_all.json"
`;

exports[`Integration Tests (see __examples__ folder) Example migrate_missing_target should report example migrate_missing_target to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/migrate_missing_target/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/migrate_missing_target.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/migrate_missing_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/migrate_missing_target.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/migrate_missing_target.json
Verbose  __examples__/migrate_missing_target/example.js
File has errors; skipping auto-fix
Fix      __examples__/migrate_missing_target/example.js:3
Migrated sync-tag 'migrate_missing_target'
Target changed from '__examples__/migrate_missing_target/missing_target.py' to 'https://example.com/1/missing_target.py'
Checksum updated from 12345 to 1291658605
Fix      __examples__/migrate_missing_target/example.js:4
Migrated sync-tag 'migrate_missing_target2'
Target changed from '__examples__/migrate_missing_target/subfolder/missing_target.py' to 'https://example.com/2/missing_target.py'
Checksum updated from no checksum to 1291658605

<group 1 file(s) would have been fixed.
To fix, run: >
  checksync -u __examples__/migrate_missing_target/example.js
<end_group>
ðŸŽ‰  Everything is in sync!"
`;

exports[`Integration Tests (see __examples__ folder) Example migrate_missing_target should report example migrate_missing_target to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/migrate_missing_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/migrate_missing_target.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/migrate_missing_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/migrate_missing_target.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/migrate_missing_target.json
Migrate  __examples__/migrate_missing_target/example.js:3
No return tag named 'migrate_missing_target' in '__examples__/migrate_missing_target/missing_target.py'
Recommend migration to remote target 'https://example.com/1/missing_target.py' and update checksum to 1291658605.
Migrate  __examples__/migrate_missing_target/example.js:4
No return tag named 'migrate_missing_target2' in '__examples__/migrate_missing_target/subfolder/missing_target.py'
Recommend migration to remote target 'https://example.com/2/missing_target.py' and update checksum to 1291658605.

<group ðŸ›   Desynchronized blocks detected. Check them and update as required before resynchronizing: >

  checksync -u __examples__/migrate_missing_target/example.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example migrate_missing_target should report example migrate_missing_target to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/migrate_missing_target/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/migrate_missing_target.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/migrate_missing_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/migrate_missing_target.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/migrate_missing_target.json
{
    "version": "0.0.0",
    "launchString": "checksync -u __examples__/migrate_missing_target/example.js",
    "files": {
        "__examples__/migrate_missing_target/example.js": [
            {
                "markerID": "migrate_missing_target",
                "reason": "No return tag named 'migrate_missing_target' in '__examples__/migrate_missing_target/missing_target.py'. Recommend migration to remote target 'https://example.com/1/missing_target.py' and update checksum to 1291658605.",
                "code": "pending-migration",
                "location": {
                    "line": 3
                },
                "fix": {
                    "type": "replace",
                    "line": 3,
                    "text": "// sync-start:migrate_missing_target 1291658605 https://example.com/1/missing_target.py",
                    "declaration": "// sync-start:migrate_missing_target 12345 __examples__/migrate_missing_target/missing_target.py",
                    "description": "Migrated sync-tag 'migrate_missing_target'. Target changed from '__examples__/migrate_missing_target/missing_target.py' to 'https://example.com/1/missing_target.py'. Checksum updated from 12345 to 1291658605"
                }
            },
            {
                "markerID": "migrate_missing_target2",
                "reason": "No return tag named 'migrate_missing_target2' in '__examples__/migrate_missing_target/subfolder/missing_target.py'. Recommend migration to remote target 'https://example.com/2/missing_target.py' and update checksum to 1291658605.",
                "code": "pending-migration",
                "location": {
                    "line": 4
                },
                "fix": {
                    "type": "replace",
                    "line": 4,
                    "text": "// sync-start:migrate_missing_target2 1291658605 https://example.com/2/missing_target.py",
                    "declaration": "// sync-start:migrate_missing_target2 __examples__/migrate_missing_target/subfolder/missing_target.py",
                    "description": "Migrated sync-tag 'migrate_missing_target2'. Target changed from '__examples__/migrate_missing_target/subfolder/missing_target.py' to 'https://example.com/2/missing_target.py'. Checksum updated from no checksum to 1291658605"
                }
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example migrate_missing_target should report example migrate_missing_target to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/migrate_missing_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/migrate_missing_target.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/migrate_missing_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/migrate_missing_target.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/migrate_missing_target/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/migrate_missing_target/example.js"
]
Info     Cache written to ROOT_DIR/.integrationtests/migrate_missing_target.json"
`;

exports[`Integration Tests (see __examples__ folder) Example missing_target should report example missing_target to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/missing_target/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/missing_target.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/missing_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/missing_target.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/missing_target.json
Error    __examples__/missing_target/example.js:3
Sync-start for 'missing_target' points to '__examples__/missing_target/missing_target.py', which does not exist or is a directory
Error    __examples__/missing_target/example.js:3
No return tag named 'missing_target' in '__examples__/missing_target/missing_target.py'

<group ðŸ›‘  Could not update all tags due to unfixable errors. Fix the errors in these files and try again. >
  __examples__/missing_target/example.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example missing_target should report example missing_target to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/missing_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/missing_target.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/missing_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/missing_target.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/missing_target.json
Error    __examples__/missing_target/example.js:3
Sync-start for 'missing_target' points to '__examples__/missing_target/missing_target.py', which does not exist or is a directory
Error    __examples__/missing_target/example.js:3
No return tag named 'missing_target' in '__examples__/missing_target/missing_target.py'

<group ðŸ›‘  Unfixable errors found. Fix the errors in these files and try again. >
  __examples__/missing_target/example.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example missing_target should report example missing_target to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/missing_target/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/missing_target.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/missing_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/missing_target.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/missing_target.json
Error    ðŸ›‘  Unfixable errors found. Fix the errors and try again.
{
    "version": "0.0.0",
    "launchString": "checksync -u ",
    "files": {
        "__examples__/missing_target/example.js": [
            {
                "markerID": "missing_target",
                "reason": "Sync-start for 'missing_target' points to '__examples__/missing_target/missing_target.py', which does not exist or is a directory",
                "location": {
                    "line": 3
                },
                "code": "file-does-not-exist"
            },
            {
                "markerID": "missing_target",
                "reason": "No return tag named 'missing_target' in '__examples__/missing_target/missing_target.py'",
                "code": "no-return-tag",
                "location": {
                    "line": 3
                }
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example missing_target should report example missing_target to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/missing_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/missing_target.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/missing_target/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/missing_target.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/missing_target/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/missing_target/example.js"
]
Info     Cache written to ROOT_DIR/.integrationtests/missing_target.json"
`;

exports[`Integration Tests (see __examples__ folder) Example no_back_reference should report example no_back_reference to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/no_back_reference/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/no_back_reference.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/no_back_reference/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_back_reference.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/no_back_reference.json
Error    __examples__/no_back_reference/file1.js:1
No return tag named 'markerID' in '__examples__/no_back_reference/file2.js'

<group ðŸ›‘  Could not update all tags due to unfixable errors. Fix the errors in these files and try again. >
  __examples__/no_back_reference/file1.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example no_back_reference should report example no_back_reference to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/no_back_reference/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_back_reference.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/no_back_reference/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_back_reference.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/no_back_reference.json
Error    __examples__/no_back_reference/file1.js:1
No return tag named 'markerID' in '__examples__/no_back_reference/file2.js'

<group ðŸ›‘  Unfixable errors found. Fix the errors in these files and try again. >
  __examples__/no_back_reference/file1.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example no_back_reference should report example no_back_reference to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/no_back_reference/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/no_back_reference.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/no_back_reference/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_back_reference.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/no_back_reference.json
Error    ðŸ›‘  Unfixable errors found. Fix the errors and try again.
{
    "version": "0.0.0",
    "launchString": "checksync -u ",
    "files": {
        "__examples__/no_back_reference/file1.js": [
            {
                "markerID": "markerID",
                "reason": "No return tag named 'markerID' in '__examples__/no_back_reference/file2.js'",
                "code": "no-return-tag",
                "location": {
                    "line": 1
                }
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example no_back_reference should report example no_back_reference to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/no_back_reference/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_back_reference.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/no_back_reference/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_back_reference.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/no_back_reference/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/no_back_reference/file1.js",
    "ROOT_DIR/__examples__/no_back_reference/file2.js"
]
Info     Cache written to ROOT_DIR/.integrationtests/no_back_reference.json"
`;

exports[`Integration Tests (see __examples__ folder) Example no_checksums should report example no_checksums to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/no_checksums/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/no_checksums.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/no_checksums/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_checksums.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/no_checksums.json
Verbose  __examples__/no_checksums/example_one-a.js
File has errors; skipping auto-fix
Fix      __examples__/no_checksums/example_one-a.js:3
Updated checksum for sync-tag 'example_one' referencing '__examples__/no_checksums/example_one-b.py:3' from no checksum to 249234014.
Verbose  __examples__/no_checksums/example_one-b.py
File has errors; skipping auto-fix
Fix      __examples__/no_checksums/example_one-b.py:3
Updated checksum for sync-tag 'example_one' referencing '__examples__/no_checksums/example_one-a.js:3' from no checksum to 770446101.

<group 2 file(s) would have been fixed.
To fix, run: >
  checksync -u __examples__/no_checksums/example_one-a.js __examples__/no_checksums/example_one-b.py
<end_group>
ðŸŽ‰  Everything is in sync!"
`;

exports[`Integration Tests (see __examples__ folder) Example no_checksums should report example no_checksums to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/no_checksums/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_checksums.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/no_checksums/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_checksums.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/no_checksums.json
Mismatch __examples__/no_checksums/example_one-a.js:3
Looks like you changed the target content for sync-tag 'example_one' in '__examples__/no_checksums/example_one-b.py:3'
Make sure you've made corresponding changes in the source file, if necessary (No checksum != 249234014)
Mismatch __examples__/no_checksums/example_one-b.py:3
Looks like you changed the target content for sync-tag 'example_one' in '__examples__/no_checksums/example_one-a.js:3'
Make sure you've made corresponding changes in the source file, if necessary (No checksum != 770446101)

<group ðŸ›   Desynchronized blocks detected. Check them and update as required before resynchronizing: >

  checksync -u __examples__/no_checksums/example_one-a.js __examples__/no_checksums/example_one-b.py
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example no_checksums should report example no_checksums to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/no_checksums/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/no_checksums.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/no_checksums/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_checksums.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/no_checksums.json
{
    "version": "0.0.0",
    "launchString": "checksync -u __examples__/no_checksums/example_one-a.js __examples__/no_checksums/example_one-b.py",
    "files": {
        "__examples__/no_checksums/example_one-a.js": [
            {
                "markerID": "example_one",
                "code": "mismatched-checksum",
                "reason": "Looks like you changed the target content for sync-tag 'example_one' in '__examples__/no_checksums/example_one-b.py:3'. Make sure you've made corresponding changes in the source file, if necessary (No checksum != 249234014)",
                "location": {
                    "line": 3
                },
                "fix": {
                    "type": "replace",
                    "line": 3,
                    "text": "// sync-start:example_one 249234014 __examples__/no_checksums/example_one-b.py",
                    "declaration": "// sync-start:example_one __examples__/no_checksums/example_one-b.py",
                    "description": "Updated checksum for sync-tag 'example_one' referencing '__examples__/no_checksums/example_one-b.py:3' from no checksum to 249234014."
                }
            }
        ],
        "__examples__/no_checksums/example_one-b.py": [
            {
                "markerID": "example_one",
                "code": "mismatched-checksum",
                "reason": "Looks like you changed the target content for sync-tag 'example_one' in '__examples__/no_checksums/example_one-a.js:3'. Make sure you've made corresponding changes in the source file, if necessary (No checksum != 770446101)",
                "location": {
                    "line": 3
                },
                "fix": {
                    "type": "replace",
                    "line": 3,
                    "text": "# sync-start:example_one 770446101 __examples__/no_checksums/example_one-a.js",
                    "declaration": "# sync-start:example_one __examples__/no_checksums/example_one-a.js",
                    "description": "Updated checksum for sync-tag 'example_one' referencing '__examples__/no_checksums/example_one-a.js:3' from no checksum to 770446101."
                }
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example no_checksums should report example no_checksums to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/no_checksums/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_checksums.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/no_checksums/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_checksums.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/no_checksums/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/no_checksums/example_one-a.js",
    "ROOT_DIR/__examples__/no_checksums/example_one-b.py"
]
Info     Cache written to ROOT_DIR/.integrationtests/no_checksums.json"
`;

exports[`Integration Tests (see __examples__ folder) Example no_self_reference should report example no_self_reference to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/no_self_reference/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/no_self_reference.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/no_self_reference/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_self_reference.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/no_self_reference.json
Error    __examples__/no_self_reference/example.js:3
Sync-tag 'example_three' cannot target itself

<group 1 file(s) would have been fixed.
To fix, run: >
  checksync -u __examples__/no_self_reference/example.js
<end_group>

<group ðŸ›‘  Could not update all tags due to unfixable errors. Fix the errors in these files and try again. >
  __examples__/no_self_reference/example.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example no_self_reference should report example no_self_reference to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/no_self_reference/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_self_reference.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/no_self_reference/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_self_reference.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/no_self_reference.json
Error    __examples__/no_self_reference/example.js:3
Sync-tag 'example_three' cannot target itself
Mismatch __examples__/no_self_reference/example.js:3
Looks like you changed the target content for sync-tag 'example_three' in '__examples__/no_self_reference/example.js:3'
Make sure you've made corresponding changes in the source file, if necessary (No checksum != 770446101)

<group ðŸ›‘  Desynchronized blocks detected and parsing errors were found. Fix the errors, update the blocks, then update the sync-start tags using: >

  checksync -u __examples__/no_self_reference/example.js
<end_group>

<group ðŸ›‘  Unfixable errors found. Fix the errors in these files and try again. >
  __examples__/no_self_reference/example.js
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example no_self_reference should report example no_self_reference to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/no_self_reference/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/no_self_reference.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/no_self_reference/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_self_reference.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/no_self_reference.json
Error    ðŸ›‘  Unfixable errors found. Fix the errors and try again.
{
    "version": "0.0.0",
    "launchString": "checksync -u __examples__/no_self_reference/example.js",
    "files": {
        "__examples__/no_self_reference/example.js": [
            {
                "markerID": "example_three",
                "reason": "Sync-tag 'example_three' cannot target itself",
                "location": {
                    "line": 3
                },
                "code": "self-targeting"
            },
            {
                "markerID": "example_three",
                "code": "mismatched-checksum",
                "reason": "Looks like you changed the target content for sync-tag 'example_three' in '__examples__/no_self_reference/example.js:3'. Make sure you've made corresponding changes in the source file, if necessary (No checksum != 770446101)",
                "location": {
                    "line": 3
                },
                "fix": {
                    "type": "replace",
                    "line": 3,
                    "text": "// sync-start:example_three 770446101 __examples__/no_self_reference/example.js",
                    "declaration": "// sync-start:example_three __examples__/no_self_reference/example.js",
                    "description": "Updated checksum for sync-tag 'example_three' referencing '__examples__/no_self_reference/example.js:3' from no checksum to 770446101."
                }
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example no_self_reference should report example no_self_reference to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/no_self_reference/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_self_reference.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/no_self_reference/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/no_self_reference.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/no_self_reference/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/no_self_reference/example.js"
]
Info     Cache written to ROOT_DIR/.integrationtests/no_self_reference.json"
`;

exports[`Integration Tests (see __examples__ folder) Example remote_tags_broken should report example remote_tags_broken to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/remote_tags_broken/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/remote_tags_broken.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/remote_tags_broken/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/remote_tags_broken.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/remote_tags_broken.json
Verbose  __examples__/remote_tags_broken/example.jsx
File has errors; skipping auto-fix
Fix      __examples__/remote_tags_broken/example.jsx:3
Updated checksum for sync-tag 'remote_target_self_hash' referencing 'https://github.com/somewhatabstract/checksync/blob/b9433f22ed9cfdf6c79edfd7254670ff53f82f7c/__examples__/remote_tags_match/example.jsx#L3' from 840225308 to 1603869099.

<group 1 file(s) would have been fixed.
To fix, run: >
  checksync -u __examples__/remote_tags_broken/example.jsx
<end_group>
ðŸŽ‰  Everything is in sync!"
`;

exports[`Integration Tests (see __examples__ folder) Example remote_tags_broken should report example remote_tags_broken to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/remote_tags_broken/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/remote_tags_broken.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/remote_tags_broken/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/remote_tags_broken.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/remote_tags_broken.json
Mismatch __examples__/remote_tags_broken/example.jsx:3
Looks like you changed the content of sync-tag 'remote_target_self_hash' or the path of the file that contains the tag
Make sure you've made corresponding changes at https://github.com/somewhatabstract/checksync/blob/b9433f22ed9cfdf6c79edfd7254670ff53f82f7c/__examples__/remote_tags_match/example.jsx#L3, if necessary (840225308 != 1603869099)

<group ðŸ›   Desynchronized blocks detected. Check them and update as required before resynchronizing: >

  checksync -u __examples__/remote_tags_broken/example.jsx
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example remote_tags_broken should report example remote_tags_broken to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/remote_tags_broken/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/remote_tags_broken.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/remote_tags_broken/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/remote_tags_broken.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/remote_tags_broken.json
{
    "version": "0.0.0",
    "launchString": "checksync -u __examples__/remote_tags_broken/example.jsx",
    "files": {
        "__examples__/remote_tags_broken/example.jsx": [
            {
                "markerID": "remote_target_self_hash",
                "code": "mismatched-checksum",
                "reason": "Looks like you changed the content of sync-tag 'remote_target_self_hash' or the path of the file that contains the tag. Make sure you've made corresponding changes at https://github.com/somewhatabstract/checksync/blob/b9433f22ed9cfdf6c79edfd7254670ff53f82f7c/__examples__/remote_tags_match/example.jsx#L3, if necessary (840225308 != 1603869099)",
                "location": {
                    "line": 3
                },
                "fix": {
                    "type": "replace",
                    "line": 3,
                    "text": "        {/* sync-start:remote_target_self_hash 1603869099 https://github.com/somewhatabstract/checksync/blob/b9433f22ed9cfdf6c79edfd7254670ff53f82f7c/__examples__/remote_tags_match/example.jsx#L3 */}",
                    "declaration": "        {/* sync-start:remote_target_self_hash 840225308 https://github.com/somewhatabstract/checksync/blob/b9433f22ed9cfdf6c79edfd7254670ff53f82f7c/__examples__/remote_tags_match/example.jsx#L3 */}",
                    "description": "Updated checksum for sync-tag 'remote_target_self_hash' referencing 'https://github.com/somewhatabstract/checksync/blob/b9433f22ed9cfdf6c79edfd7254670ff53f82f7c/__examples__/remote_tags_match/example.jsx#L3' from 840225308 to 1603869099."
                }
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example remote_tags_broken should report example remote_tags_broken to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/remote_tags_broken/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/remote_tags_broken.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/remote_tags_broken/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/remote_tags_broken.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/remote_tags_broken/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/remote_tags_broken/example.jsx"
]
Info     Cache written to ROOT_DIR/.integrationtests/remote_tags_broken.json"
`;

exports[`Integration Tests (see __examples__ folder) Example remote_tags_match should report example remote_tags_match to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/remote_tags_match/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/remote_tags_match.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/remote_tags_match/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/remote_tags_match.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/remote_tags_match.json
ðŸŽ‰  Everything is in sync!"
`;

exports[`Integration Tests (see __examples__ folder) Example remote_tags_match should report example remote_tags_match to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/remote_tags_match/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/remote_tags_match.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/remote_tags_match/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/remote_tags_match.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/remote_tags_match.json
ðŸŽ‰  Everything is in sync!"
`;

exports[`Integration Tests (see __examples__ folder) Example remote_tags_match should report example remote_tags_match to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/remote_tags_match/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/remote_tags_match.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/remote_tags_match/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/remote_tags_match.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/remote_tags_match.json
{
    "version": "0.0.0",
    "launchString": "checksync -u ",
    "files": {}
}"
`;

exports[`Integration Tests (see __examples__ folder) Example remote_tags_match should report example remote_tags_match to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/remote_tags_match/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/remote_tags_match.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/remote_tags_match/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/remote_tags_match.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/remote_tags_match/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/remote_tags_match/unsymlinked/example.jsx"
]
Info     Cache written to ROOT_DIR/.integrationtests/remote_tags_match.json"
`;

exports[`Integration Tests (see __examples__ folder) Example unterminated_marker should report example unterminated_marker to match snapshot for scenario autofix 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/unterminated_marker/**"
  ],
  "autoFix": true,
  "dryRun": true,
  "cachePath": "ROOT_DIR/.integrationtests/unterminated_marker.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": true,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": true,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/unterminated_marker/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/unterminated_marker.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     DRY-RUN: Files will not be modified
Info     Loading cache from ROOT_DIR/.integrationtests/unterminated_marker.json
Error    __examples__/unterminated_marker/example_two-a.js:3
No return tag named 'example_two' in '__examples__/unterminated_marker/example_two-b.py'
Error    __examples__/unterminated_marker/example_two-b.py:3
Sync-start 'example_two' has no corresponding sync-end

<group ðŸ›‘  Could not update all tags due to unfixable errors. Fix the errors in these files and try again. >
  __examples__/unterminated_marker/example_two-a.js
__examples__/unterminated_marker/example_two-b.py
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example unterminated_marker should report example unterminated_marker to match snapshot for scenario check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/unterminated_marker/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/unterminated_marker.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/unterminated_marker/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/unterminated_marker.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/unterminated_marker.json
Error    __examples__/unterminated_marker/example_two-a.js:3
No return tag named 'example_two' in '__examples__/unterminated_marker/example_two-b.py'
Error    __examples__/unterminated_marker/example_two-b.py:3
Sync-start 'example_two' has no corresponding sync-end

<group ðŸ›‘  Unfixable errors found. Fix the errors in these files and try again. >
  __examples__/unterminated_marker/example_two-a.js
__examples__/unterminated_marker/example_two-b.py
<end_group>"
`;

exports[`Integration Tests (see __examples__ folder) Example unterminated_marker should report example unterminated_marker to match snapshot for scenario json-check-only 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/unterminated_marker/**"
  ],
  "json": true,
  "cachePath": "ROOT_DIR/.integrationtests/unterminated_marker.json",
  "cacheMode": "read"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": true,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/unterminated_marker/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/unterminated_marker.json",
  "cacheMode": "read",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Info     Loading cache from ROOT_DIR/.integrationtests/unterminated_marker.json
Error    ðŸ›‘  Unfixable errors found. Fix the errors and try again.
{
    "version": "0.0.0",
    "launchString": "checksync -u ",
    "files": {
        "__examples__/unterminated_marker/example_two-a.js": [
            {
                "markerID": "example_two",
                "reason": "No return tag named 'example_two' in '__examples__/unterminated_marker/example_two-b.py'",
                "code": "no-return-tag",
                "location": {
                    "line": 3
                }
            }
        ],
        "__examples__/unterminated_marker/example_two-b.py": [
            {
                "markerID": "example_two",
                "reason": "Sync-start 'example_two' has no corresponding sync-end",
                "location": {
                    "line": 3
                },
                "code": "start-tag-witout-end-tag"
            }
        ]
    }
}"
`;

exports[`Integration Tests (see __examples__ folder) Example unterminated_marker should report example unterminated_marker to match snapshot for scenario undefined 1`] = `
"Verbose  Options from arguments: {
  "includeGlobs": [
    "**/unterminated_marker/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/unterminated_marker.json",
  "cacheMode": "write"
}
Verbose  Looking for configuration file based on root marker...
Verbose  Checking ROOT_DIR/.checksyncrc...
Verbose  Checking ROOT_DIR/.checksyncrc.json...
Verbose  Found configuration file: ROOT_DIR/.checksyncrc.json
Verbose  Changing working directory to ROOT_DIR
Verbose  Loading configuration from ROOT_DIR/.checksyncrc.json
Verbose  Validating configuration
Verbose  Configuration is valid
Verbose  Options from config: {
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "autoFix": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "dryRun": false,
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "json": false,
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Combined options with defaults: {
  "autoFix": false,
  "json": false,
  "allowEmptyTags": false,
  "comments": [
    "//",
    "#",
    "{/*"
  ],
  "excludeGlobs": [
    "**/excluded/**"
  ],
  "dryRun": false,
  "ignoreFiles": [
    "**/ignore-file.txt"
  ],
  "includeGlobs": [
    "**/unterminated_marker/**"
  ],
  "cachePath": "ROOT_DIR/.integrationtests/unterminated_marker.json",
  "cacheMode": "write",
  "$schema": "./src/checksync.schema.json",
  "$comment": "This is the config file for our integration tests. By not specifying it directly, we also test configuration file discovery.",
  "migration": {
    "mode": "missing",
    "mappings": {
      "__examples__/migrate_missing_target/": "https://example.com/1/",
      "__examples__/migrate_all/": "https://example.com/2/",
      "__examples__/migrate_missing_target/subfolder/": "https://example.com/2/"
    }
  }
}
Verbose  Ignore files: [
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/ignore-file.txt",
    "ROOT_DIR/__examples__/ignore_files_at_different_depths/some/ignore-file.txt"
]
Verbose  Include globs: [
    "**/unterminated_marker/**"
]
Verbose  Exclude globs: [
    "**/excluded/**"
]
Verbose  Discovered paths: [
    "ROOT_DIR/__examples__/unterminated_marker/example_two-a.js",
    "ROOT_DIR/__examples__/unterminated_marker/example_two-b.py"
]
Info     Cache written to ROOT_DIR/.integrationtests/unterminated_marker.json"
`;
